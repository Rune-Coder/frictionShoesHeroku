{"version":3,"sources":["card/orderProductCard.module.css","pages/orderView/orderView.module.css","card/orderProductCard.js","icons/phoneIcon.js","pages/orderView/orderView.js","image/sectionLoader.gif"],"names":["module","exports","OrderProductCard","props","className","classes","layout","img","src","image","alt","details","company","subHead","product","size","quantity","sp","PhoneIcon","xmlns","viewBox","d","OrderView","oid","useParams","userSub","useSelector","state","login","userData","useState","orders","setOrders","useEffect","document","title","window","scrollTo","email","a","fetch","method","headers","body","JSON","stringify","res","json","data","ok","getOrders","length","load","loader","currOrder","find","item","order_id","date","split","dd","mm","yyyy","productList","products","map","shoe","id","_id","rating","mrp","discount","sz","head","Number","bill","amount","mobNo","phone","address","mob","name","house","town","city","pin","payment"],"mappings":"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","file":"static/js/17.ad910888.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"orderProductCard_details__19gES\",\"img\":\"orderProductCard_img__zmBwp\",\"layout\":\"orderProductCard_layout__2taB-\",\"subHead\":\"orderProductCard_subHead__2O9Gy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"orderView_head__1FagN\",\"layout\":\"orderView_layout__1MmYa\",\"load\":\"orderView_load__1kZ-L\",\"mobNo\":\"orderView_mobNo__16-Aj\",\"name\":\"orderView_name__2Dd6Y\",\"phone\":\"orderView_phone__1xDJN\"};","import React from 'react';\r\n\r\nimport classes from './orderProductCard.module.css';\r\n\r\nfunction OrderProductCard(props){\r\n    return (\r\n        <div className={classes.layout}>\r\n            <div className={classes.img}><img src = {props.image} alt = \"Shoe\"></img></div>\r\n            <div className={classes.details}>\r\n                <div>{props.company}</div>\r\n                <div className={classes.subHead}>{props.product}</div>\r\n                <div className={classes.subHead}>Size:&nbsp;{props.size}&nbsp;|&nbsp;Qty:&nbsp;{props.quantity}</div>\r\n                <p>&#8377;&nbsp;{props.sp}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderProductCard;","import React from 'react';\r\n\r\nfunction PhoneIcon(){\r\n    return(\r\n        <svg \r\n            xmlns=\"http://www.w3.org/2000/svg\" \r\n            viewBox=\"0 0 512 512\">\r\n            <path d=\"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default PhoneIcon;","import React, {useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport OrderProductCard from '../../card/orderProductCard';\r\nimport loader from '../../image/sectionLoader.gif';\r\nimport classes from './orderView.module.css';\r\nimport PhoneIcon from '../../icons/phoneIcon';\r\n\r\nfunction OrderView(props){\r\n    const {oid} = useParams();\r\n    const userSub = useSelector((state) => state.login.userData);\r\n\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Order Details';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    useEffect(() =>{\r\n\r\n        //get orders data mongodb\r\n        async function getOrders(email){\r\n\r\n            const res = await fetch(\"/api/user/history-get\", {\r\n                method: \"POST\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({ email })\r\n            });\r\n        \r\n            const data = await res.json();\r\n                \r\n            if(res.ok && data.orders)\r\n                setOrders(data.orders);\r\n\r\n        }\r\n        getOrders(userSub.email);\r\n\r\n    }, [userSub.email]);\r\n\r\n    if(orders.length === 0){\r\n        return(\r\n            <div className={classes.load}>\r\n                <img src = {loader} alt = \"Loading...\"></img>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const currOrder = orders.find(item => item.order_id === oid);\r\n\r\n    if(!currOrder){\r\n        return(\r\n            <div className={classes.load}>\r\n                <img src = {loader} alt = \"Loading...\"></img>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const [dd, mm, yyyy] = currOrder.date.split(\"/\");\r\n    const month = [\"\", \"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n\r\n    const productList = currOrder.products.map((shoe) => (\r\n        <OrderProductCard \r\n            key = {shoe._id} \r\n            id = {shoe._id}\r\n            image = {shoe.image}\r\n            company = {shoe.company} \r\n            product = {shoe.product} \r\n            rating = {shoe.rating} \r\n            sp = {shoe.sp} \r\n            mrp = {shoe.mrp} \r\n            discount = {shoe.discount}\r\n            quantity = {shoe.quantity}\r\n            size = {shoe.sz}\r\n        />\r\n    ));\r\n\r\n    return(\r\n        <div className={classes.layout}>\r\n            <div>\r\n                <p><span className={classes.head}>Placed On:</span>&nbsp;&nbsp;{dd}&nbsp;{month[Number(mm)]}&nbsp;{yyyy}</p>\r\n                <p><span className={classes.head}>Order No:</span>&nbsp;&nbsp;{oid}</p>\r\n                <p><span className={classes.head}>Total Amount:</span>&nbsp;&#8377;&nbsp;{currOrder.bill[0].amount}</p>\r\n            </div>\r\n            <div>\r\n                <p className={classes.head}>Contact Details</p>\r\n                \r\n                <p className={classes.mobNo}><span className={classes.phone}><PhoneIcon /></span>&nbsp;&nbsp;{currOrder.address.mob}</p>\r\n            </div>\r\n            <div>\r\n                <p className={classes.head}>Shipping Address</p>\r\n                <p className={classes.name}>{currOrder.address.name}</p>\r\n                <p>{currOrder.address.house},&nbsp;&nbsp;{currOrder.address.town}</p>\r\n                <p>{currOrder.address.city},&nbsp;&nbsp;{currOrder.address.state}&nbsp;-&nbsp;{currOrder.address.pin}</p>\r\n            </div>\r\n            <div>\r\n                <p className={classes.head}>Payment Method</p>\r\n                <p>{currOrder.payment}</p>\r\n            </div>\r\n            {productList}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderView;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";"],"sourceRoot":""}