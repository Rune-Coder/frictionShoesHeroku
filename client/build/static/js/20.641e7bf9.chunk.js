(this.webpackJsonpreact_sample_1=this.webpackJsonpreact_sample_1||[]).push([[20],{130:function(e,t,a){e.exports={badge:"paymentSuccess_badge__3giu8",continue:"paymentSuccess_continue__395j4",layout:"paymentSuccess_layout__3gQqb",subHead:"paymentSuccess_subHead__aac_L"}},140:function(e,t,a){"use strict";a.r(t);var n=a(19),s=a.n(n),c=a(23),r=a(4),o=a(1),i=a(3),l=a(42),u=a(12),p=a(40),d=a(130),b=a.n(d),f=a(0);t.default=function(e){Object(o.useEffect)((function(){document.title="Online Shopping site for shoes in India | Friction",window.scrollTo(0,0)}));var t=Object(i.g)(),a=Object(u.c)((function(e){return e.login.loggedin}));Object(o.useEffect)((function(){var e=localStorage.getItem("address")?JSON.parse(localStorage.getItem("address")):{};a&&e.pin||t("/",{replace:!0})}),[t,a]);var n=Object(u.c)((function(e){return e.login.userData})),d=Object(o.useState)([]),g=Object(r.a)(d,2),m=g[0],j=g[1],O=Object(u.b)();function h(){return h=Object(c.a)(s.a.mark((function e(t,a){var n,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],c=[],e.next=4,fetch("/api/user/history-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,cart:n,bill:c,orders:a})});case 4:return r=e.sent,e.next=7,r.json();case 7:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/history-get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,a.ok&&n.orders&&j(n.orders);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(n.email)}),[n.email]),Object(f.jsxs)("div",{className:b.a.layout,children:[Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:b.a.badge,children:Object(f.jsx)(l.a,{})})}),Object(f.jsx)("p",{children:"Payment Successfull"}),Object(f.jsx)("button",{onClick:function(e){var a=localStorage.getItem("billStore")?JSON.parse(localStorage.getItem("billStore")):[{amount:0}],s=localStorage.getItem("products")?JSON.parse(localStorage.getItem("products")):[],c=localStorage.getItem("address")?JSON.parse(localStorage.getItem("address")):{},r=m.slice();r.push({order_id:"",status:"processing",bill:a,products:s,payment:"Online",address:c,date:""}),function(e,t){h.apply(this,arguments)}(n.email,r),O(p.a.remAddress()),t("/orders",{replace:!0})},className:b.a.continue,children:"CONTINUE"}),Object(f.jsx)("p",{className:b.a.subHead,children:"Please do not go back or refresh page"})]})}}}]);
//# sourceMappingURL=20.641e7bf9.chunk.js.map