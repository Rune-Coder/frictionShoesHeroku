{"version":3,"sources":["pages/shoeTypes/shoeTypes.module.css","pages/shoeTypes/shoeTypes.js","image/sectionLoader.gif","card/starRating.module.css","icons/starIcon.js","card/starRating.js","card/productCard.js","card/productCard.module.css","pagination/pagination.js","pagination/pagination.module.css"],"names":["module","exports","ShoeTypes","props","tname","useParams","useState","products","setProducts","currPage","setCurrPage","split","gen","stype","loader","setLoader","useEffect","document","title","charAt","toUpperCase","slice","window","scrollTo","fetch","mode","then","response","json","data","lastPostIndex","firstPostIndex","productList","map","shoe","id","_id","image","company","product","rating","sp","mrp","discount","className","classes","layout","catalogue","src","preloader","alt","totalPost","length","postPerPage","StarIcon","xmlns","viewBox","d","StarRating","fullStar","stars","star","starFill","avg","ProductCard","loginSub","useSelector","state","login","loggedin","userSub","userData","navigate","useNavigate","addWish","setAddWish","wish","localStorage","getItem","JSON","parse","find","item","dispatch","useDispatch","email","a","method","headers","body","stringify","res","card","onClick","path","toLowerCase","desc","comName","pName","priceCart","price","event","stopPropagation","wishActions","addItem","postWishData","wishList","activeWish","Pagination","pages","i","Math","ceil","push","page","index","pageActive","pageInactive"],"mappings":"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","file":"static/js/9.f5782892.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"catalogue\":\"shoeTypes_catalogue__2gZn2\",\"layout\":\"shoeTypes_layout__3TInX\"};","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport ProductCard from '../../card/productCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport Pagination from '../../pagination/pagination';\r\nimport classes from './shoeTypes.module.css';\r\n\r\nfunction ShoeTypes(props){\r\n\r\n    const {tname} = useParams();\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [currPage, setCurrPage] = useState(1);\r\n    const postPerPage = 10;\r\n\r\n    const [gen, stype] = tname.split(\"-\");\r\n\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Buy '+ gen.charAt(0).toUpperCase() + gen.slice(1) +' '+ stype.charAt(0).toUpperCase() + stype.slice(1) + ' Online in India | Friction';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    function getData(){\r\n        setLoader(true);\r\n        fetch(`/api/products/type/${tname}`, {mode: 'cors'})\r\n        .then((response) => {\r\n            return response.json();\r\n        }).then((data) => {\r\n            setProducts(data);\r\n            setLoader(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() =>{\r\n        getData();\r\n    }, []);\r\n\r\n\r\n    if(products){\r\n\r\n        const lastPostIndex = currPage * postPerPage;\r\n        const firstPostIndex = lastPostIndex - postPerPage;\r\n\r\n        const currProducts = products.slice(firstPostIndex, lastPostIndex);\r\n\r\n\r\n        const productList = currProducts.map((shoe) => (\r\n            <ProductCard \r\n                key = {shoe._id} \r\n                id = {shoe._id}\r\n                image = {shoe.image}\r\n                company = {shoe.company} \r\n                product = {shoe.product} \r\n                rating = {shoe.rating} \r\n                sp = {shoe.sp} \r\n                mrp = {shoe.mrp} \r\n                discount = {shoe.discount}\r\n            />\r\n        ));\r\n        return(\r\n            <div className={classes.layout}>\r\n                <div className={classes.catalogue}>\r\n                    {productList}\r\n                    {loader && <img src = {preloader} alt = \"Loading...\"></img>}\r\n                </div>\r\n                <Pagination totalPost = {products.length} postPerPage = {postPerPage} setCurrPage = {setCurrPage} currPage = {currPage}/>\r\n            </div>\r\n        );\r\n    }\r\n    return(\r\n        <div>\r\n            <img src = {preloader} alt = \"Loading...\"></img>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShoeTypes;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rating\":\"starRating_rating__1ud2v\",\"star\":\"starRating_star__AKFOA\",\"starFill\":\"starRating_starFill__2J8gC\",\"avg\":\"starRating_avg__2_8JC\"};","import React from 'react';\r\n\r\nfunction StarIcon(){\r\n    return(\r\n        <svg \r\n            xmlns=\"http://www.w3.org/2000/svg\" \r\n            viewBox=\"0 0 576 512\">\r\n            <path d=\"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default StarIcon;","import React from 'react';\r\nimport StarIcon from '../icons/starIcon';\r\nimport classes from './starRating.module.css';\r\n\r\nfunction StarRating(props) {\r\n    const fullStar = props.stars;\r\n    return(\r\n        <div className={classes.rating}>\r\n            <span className={`${classes.star} ${fullStar >= 4 ? classes.starFill: classes.avg}`}>\r\n                <StarIcon />\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StarRating;","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { wishActions } from '../store/wishStore';\r\n\r\nimport StarRating from './starRating';\r\nimport HeartIcon from '../icons/heartIcon';\r\nimport classes from './productCard.module.css';\r\n\r\nfunction ProductCard(props) {\r\n    const loginSub = useSelector((state) => state.login.loggedin);\r\n    const userSub = useSelector((state) => state.login.userData);\r\n    let navigate = useNavigate();\r\n\r\n    function routeChange(){ \r\n        let path = `/shoes/`+props.company.toLowerCase()+'-'+props.product.toLowerCase()+'/'+props.id; \r\n        navigate(path);\r\n    }\r\n\r\n    const [addWish, setAddWish] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        const wish = localStorage.getItem(\"wishStore\") ? JSON.parse(localStorage.getItem(\"wishStore\")) : [];\r\n        if(wish.length > 0){\r\n            const existItem = wish.find(item => item.id === props.id);\r\n            if(existItem)\r\n                setAddWish(true);\r\n        }\r\n        \r\n    }, [props]);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    //post wish data mongodb\r\n    async function postWishData(email, wish){\r\n\r\n        const res = await fetch(\"/api/user/history-create\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email, wish })\r\n        });\r\n    \r\n        await res.json();\r\n\r\n    }\r\n\r\n    function wishHandler(event){\r\n        event.stopPropagation();\r\n\r\n        //authenticate\r\n        if(!loginSub){\r\n            navigate(`/login`);\r\n            return;\r\n        }\r\n\r\n        if(addWish)\r\n            setAddWish(false);\r\n        else\r\n            setAddWish(true);\r\n\r\n        dispatch(wishActions.addItem({\r\n            id: props.id,\r\n            image: props.image,\r\n            company: props.company,\r\n            product: props.product,\r\n            rating: props.rating,\r\n            sp: props.sp,\r\n            mrp: props.mrp,\r\n            discount: props.discount,\r\n        }));\r\n\r\n        //store wish in mongodb\r\n        const email = userSub.email;\r\n        const wish = JSON.parse(localStorage.getItem(\"wishStore\"));\r\n\r\n        postWishData(email, wish);\r\n\r\n        return; \r\n    }\r\n    return(\r\n        <div className={classes.card} onClick = {routeChange}>\r\n           <div className={classes.image}>\r\n                <img src = {props.image} alt = \"Shoe\"></img>\r\n           </div>\r\n           <div className={classes.desc}>\r\n                <span  className={classes.comName}>{props.company}</span>\r\n                <p className={classes.pName}>{props.product}</p>\r\n                <p className={classes.rating}>\r\n                    <StarRating stars={props.rating}/>{props.rating}\r\n                </p>\r\n                <ul className={classes.priceCart}>\r\n                    <li className={classes.price}>&#8377;{props.sp} <span className={classes.mrp}>\r\n                        &#8377;{props.mrp}</span> <span className={classes.discount}>({props.discount}% off)</span>\r\n                    </li>\r\n                    <li onClick={wishHandler}><span className = {`${classes.wishList} ${addWish && classes.activeWish} ${!addWish && ''}`}><HeartIcon /></span></li>\r\n                </ul>\r\n           </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductCard;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"productCard_card__KL6Rw\",\"comName\":\"productCard_comName__Kn2U8\",\"desc\":\"productCard_desc__EVaxi\",\"discount\":\"productCard_discount__2TWdT\",\"image\":\"productCard_image__-_g0h\",\"mrp\":\"productCard_mrp__H27UF\",\"pName\":\"productCard_pName__1LFsz\",\"price\":\"productCard_price__2INB3\",\"priceCart\":\"productCard_priceCart__1NrCg\",\"rating\":\"productCard_rating__3_bNf\",\"star\":\"productCard_star__1IOCU\",\"wishList\":\"productCard_wishList__1ww5L\",\"activeWish\":\"productCard_activeWish__zCM6M\"};","import React from 'react';\r\n\r\nimport classes from './pagination.module.css';\r\n\r\nfunction Pagination(props){\r\n\r\n    var pages = [];\r\n\r\n    for(var i = 1; i <= Math.ceil(props.totalPost/ props.postPerPage); i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div className= {classes.pages}>\r\n            {pages.map((page, index) => {\r\n                return <button key = {index} onClick = {() =>  {props.setCurrPage(page); window.scrollTo(0, 0);}} className={page === props.currPage ? classes.pageActive : classes.pageInactive}>{page}</button>\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pagination;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageActive\":\"pagination_pageActive__eXSBq\",\"pageInactive\":\"pagination_pageInactive__3DEZL\"};"],"sourceRoot":""}