(this.webpackJsonpreact_sample_1=this.webpackJsonpreact_sample_1||[]).push([[13],{105:function(e,t,a){e.exports={accDetails:"myProfile_accDetails__2hAll",head:"myProfile_head__1BFNv",profile:"myProfile_profile__1yjC4",save:"myProfile_save__1d1H9"}},106:function(e,t,a){e.exports={details:"profileEdit_details__n58mA",formLabel:"profileEdit_formLabel__YV7UP",gen:"profileEdit_gen__37XMf",layout:"profileEdit_layout__3HDR0",load:"profileEdit_load___mwhe",save:"profileEdit_save__12TRz",textBox:"profileEdit_textBox__15Q4r",cntryCode:"profileEdit_cntryCode__1HJKa"}},150:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(1),i=a(12),r=a(105),s=a.n(r),l=a(19),o=a.n(l),d=a(23),u=a(3),j=a(22),b=a(70),f=a(66),m=a(106),p=a.n(m),O=a(0);var h=function(e){var t=Object(c.useState)(" "),a=Object(n.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(" "),l=Object(n.a)(s,2),m=l[0],h=l[1],x=Object(c.useState)({}),v=Object(n.a)(x,2),_=v[0],g=v[1],y=Object(c.useState)(!1),N=Object(n.a)(y,2),E=N[0],S=N[1],k=Object(c.useState)(!1),B=Object(n.a)(k,2),w=B[0],D=B[1],P=Object(u.g)(),C=Object(j.a)("token");function T(){return(T=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==i.trim()&&""!==m.trim()){e.next=3;break}return e.abrupt("return");case 3:if(D(!0),_!=={}){e.next=6;break}return e.abrupt("return");case 6:return a=_.email,e.next=9,fetch("/api/user/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,name:i,gender:m})});case 9:return n=e.sent,e.next=12,n.json();case 12:return D(!1),n.ok?(S(!0),setTimeout((function(){S(!1)}),3e3),setTimeout((function(){P("/")}),3500)):P("/login",{replace:!0}),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/profile",{method:"GET",headers:{Authorization:"Bearer ".concat(C)}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,t.ok?g(a):P("/login",{replace:!0});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C]),Object(O.jsxs)("div",{className:p.a.layout,children:[Object(O.jsxs)("form",{className:p.a.loginForm,onSubmit:function(e){return T.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:p.a.details,children:[Object(O.jsx)("input",{type:"text",placeholder:" ",required:!0,className:p.a.textBox,onBlur:function(e){r(e.target.value)}}),Object(O.jsx)("label",{className:p.a.formLabel,children:"Full Name*"})]}),Object(O.jsxs)("div",{className:p.a.gen,onClick:function(e){var t;document.getElementById("gen1").checked?(t=document.getElementById("gen1").value,h(t)):document.getElementById("gen2").checked&&(t=document.getElementById("gen2").value,h(t))},children:[Object(O.jsx)("p",{children:"Select Gender:\xa0"}),Object(O.jsx)("input",{type:"radio",id:"gen1",name:"gender",value:"Female",required:!0}),Object(O.jsx)("label",{for:"gen1",children:"Female"}),Object(O.jsx)("input",{type:"radio",id:"gen2",name:"gender",value:"Male",required:!0}),Object(O.jsx)("label",{for:"gen2",children:"Male"})]}),Object(O.jsx)("button",{type:"submit",value:"Submit",className:p.a.save,children:"SAVE"})]}),E&&Object(O.jsx)(b.a,{value:"Profile Updated Successfully"}),w&&Object(O.jsx)("img",{src:f.a,className:p.a.load,alt:"Loading..."})]})};t.default=function(e){var t=Object(i.c)((function(e){return e.login.loggedin})),a=Object(i.c)((function(e){return e.login.userData})),r=Object(c.useState)(!1),l=Object(n.a)(r,2),o=l[0],d=l[1];return Object(c.useEffect)((function(){document.title="Profile",window.scrollTo(0,0)})),Object(O.jsxs)("div",{className:s.a.profile,children:[!o&&Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:s.a.head,children:"Profile Details"}),Object(O.jsxs)("div",{className:s.a.accDetails,children:[Object(O.jsx)("div",{children:"Full Name"}),t&&Object(O.jsx)("div",{children:a.name}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Mobile Number"}),t&&Object(O.jsx)("div",{children:a.mobile}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Email ID"}),t&&Object(O.jsx)("div",{children:a.email}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Gender"}),t&&Object(O.jsx)("div",{children:a.gender}),!t&&Object(O.jsx)("div",{children:"- not added -"})]}),Object(O.jsx)("button",{type:"button",onClick:function(e){d(!o)},className:s.a.save,children:"EDIT"})]}),o&&Object(O.jsx)(h,{})]})}},66:function(e,t,a){"use strict";t.a=a.p+"static/media/sectionLoader.f418ba14.gif"},70:function(e,t,a){"use strict";a(1);var n=a(71),c=a.n(n),i=a(0);t.a=function(e){return Object(i.jsx)("div",{className:c.a.notificationHolder,children:Object(i.jsx)("div",{className:c.a.layout,children:Object(i.jsx)("p",{className:c.a.msg,children:e.value})})})}},71:function(e,t,a){e.exports={layout:"notificationCard_layout__1cSqA",notificationHolder:"notificationCard_notificationHolder__16Fvo"}}}]);
//# sourceMappingURL=13.a2cf41bb.chunk.js.map