{"version":3,"sources":["pages/profile/myProfile.module.css","pages/profile/profileEdit.module.css","pages/profile/profileEdit.js","pages/profile/myProfile.js","image/sectionLoader.gif","card/notificationCard.js","card/notificationCard.module.css"],"names":["module","exports","ProfileEdit","props","useState","useName","setUseName","useGen","setUseGen","user","setUser","updated","setUpdated","loader","setLoader","navigate","useNavigate","token","GetCookie","event","a","preventDefault","trim","email","fetch","method","headers","body","JSON","stringify","name","gender","res","json","ok","setTimeout","replace","useEffect","Authorization","data","getData","className","classes","layout","loginForm","onSubmit","details","type","placeholder","required","textBox","onBlur","target","value","formLabel","gen","onClick","document","getElementById","checked","id","for","save","src","preloader","load","alt","MyProfile","loginSub","useSelector","state","login","loggedin","userSub","userData","edit","setEdit","title","window","scrollTo","profile","head","accDetails","mobile","NotificationCard","notificationHolder","msg"],"mappings":"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","file":"static/js/13.52ec3b12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"accDetails\":\"myProfile_accDetails__1aKFI\",\"head\":\"myProfile_head__1vJMl\",\"profile\":\"myProfile_profile__11Io5\",\"save\":\"myProfile_save__25NZF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"profileEdit_details__2Ag0U\",\"formLabel\":\"profileEdit_formLabel__2cPzF\",\"gen\":\"profileEdit_gen__1VtF7\",\"layout\":\"profileEdit_layout__AAzye\",\"load\":\"profileEdit_load__NC2oc\",\"save\":\"profileEdit_save__10fLP\",\"textBox\":\"profileEdit_textBox__KQYsv\",\"cntryCode\":\"profileEdit_cntryCode__2SL0Y\"};","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { GetCookie } from '../../hooks/cookies';\r\nimport NotificationCard from '../../card/notificationCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport classes from './profileEdit.module.css';\r\n\r\nfunction ProfileEdit(props){\r\n\r\n    const [useName, setUseName] = useState(\" \");\r\n    const [useGen, setUseGen] = useState(\" \");\r\n    const [user, setUser] = useState({});\r\n    const [updated, setUpdated] = useState(false);\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const token = GetCookie(\"token\");\r\n\r\n    useEffect(() =>{\r\n        \r\n        async function getData(){\r\n\r\n            const res = await fetch(`/api/user/profile`, {\r\n                method: \"GET\",\r\n                headers:{\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            });\r\n        \r\n            const data = await res.json();\r\n            \r\n            if(res.ok)\r\n                setUser(data);\r\n            else\r\n                navigate(`/login`, { replace: true });  \r\n    \r\n        }\r\n\r\n        getData();\r\n    }, [token]);\r\n\r\n    async function profileHandler(event){\r\n        event.preventDefault();\r\n        if(useName.trim() === \"\" || useGen.trim() === \"\")\r\n            return;\r\n\r\n        setLoader(true);\r\n\r\n        if(user === {})\r\n            return;\r\n\r\n        const email = user.email;\r\n\r\n        const res = await fetch(\"/api/user/update-profile\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email: email, name: useName, gender: useGen  })\r\n        });\r\n    \r\n        await res.json();\r\n\r\n        setLoader(false);\r\n            \r\n        if(res.ok){\r\n            setUpdated(true);\r\n            setTimeout(function(){ setUpdated(false);}, 3000);\r\n            setTimeout(function(){ navigate(`/`);}, 3500);\r\n        }\r\n        else\r\n            navigate(`/login`, { replace: true });  \r\n        return;\r\n    }\r\n    function nameHandler(event){\r\n        setUseName(event.target.value);\r\n    }\r\n    function genHandler(event){\r\n        var gen;\r\n        if (document.getElementById('gen1').checked) {\r\n            gen = document.getElementById('gen1').value;\r\n            setUseGen(gen);\r\n        }\r\n        else if (document.getElementById('gen2').checked) {\r\n            gen = document.getElementById('gen2').value;\r\n            setUseGen(gen);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.layout}>\r\n            <form className={classes.loginForm} onSubmit = {profileHandler}>\r\n                <div className={classes.details}>\r\n                    <input \r\n                        type= \"text\" \r\n                        placeholder=' ' \r\n                        required \r\n                        className={classes.textBox}\r\n                        onBlur = {nameHandler}>\r\n                    </input>\r\n                    <label className={classes.formLabel}>\r\n                       Full Name*\r\n                    </label>\r\n                </div>\r\n                <div className={classes.gen} onClick = {genHandler}>\r\n                    <p>Select Gender:&nbsp;</p>\r\n                    <input type=\"radio\" id= \"gen1\" name=\"gender\" value=\"Female\" required>\r\n                    </input>\r\n                    <label for=\"gen1\">Female</label>\r\n                    <input type=\"radio\" id= \"gen2\" name=\"gender\" value=\"Male\" required>\r\n                    </input>\r\n                    <label for=\"gen2\">Male</label>\r\n                </div>\r\n\r\n                <button type= \"submit\" value=\"Submit\" className={classes.save}>SAVE</button>\r\n\r\n            </form>\r\n            {updated && <NotificationCard value = {\"Profile Updated Successfully\"} />}\r\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileEdit;","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport classes from './myProfile.module.css';\r\nimport ProfileEdit from './profileEdit';\r\n\r\nfunction MyProfile(props){\r\n\r\n    const loginSub = useSelector((state) => state.login.loggedin);\r\n    const userSub = useSelector((state) => state.login.userData);\r\n    const [edit, setEdit] = useState(false);\r\n\r\n    \r\n    useEffect(() => {\r\n        document.title = 'Profile';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    function toEdit(event){\r\n        if(edit)\r\n            setEdit(false);\r\n        else\r\n            setEdit(true);\r\n        return;\r\n    }\r\n    return (\r\n        <div className={classes.profile}>\r\n            {!edit && <div>\r\n                <p className={classes.head}>Profile Details</p>\r\n                <div className={classes.accDetails}>\r\n                    <div>Full Name</div>\r\n                    {loginSub && <div>{userSub.name}</div>}\r\n                    {!loginSub && <div>- not added -</div>}\r\n\r\n                    <div>Mobile Number</div>\r\n                    {loginSub && <div>{userSub.mobile}</div>}\r\n                    {!loginSub && <div>- not added -</div>}\r\n\r\n                    <div>Email ID</div>\r\n                    {loginSub && <div>{userSub.email}</div>}\r\n                    {!loginSub && <div>- not added -</div>}\r\n\r\n                    <div>Gender</div>\r\n                    {loginSub && <div>{userSub.gender}</div>}\r\n                    {!loginSub && <div>- not added -</div>}\r\n                </div>\r\n                <button type= \"button\" onClick = {toEdit} className={classes.save}>EDIT</button>\r\n            </div>}\r\n            {edit && <ProfileEdit />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyProfile;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","import React from 'react';\r\n\r\nimport classes from './notificationCard.module.css';\r\n\r\nfunction NotificationCard(props){\r\n\r\n    return(\r\n        <div className={classes.notificationHolder}>\r\n        <div className={classes.layout}>\r\n            <p className={classes.msg}>{props.value}</p>\r\n        </div>  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotificationCard","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"notificationCard_layout__2234_\",\"notificationHolder\":\"notificationCard_notificationHolder__1zob_\"};"],"sourceRoot":""}