{"version":3,"sources":["pages/signIn/signIn.module.css","pages/signIn/signIn.js","image/sectionLoader.gif","card/notificationCard.js","card/notificationCard.module.css"],"names":["module","exports","SignIn","props","navigate","useNavigate","useState","email","setEmail","password","setPassword","emailVerify","verifyCredentials","errMsg","setErrMsg","loggedin","setLoggedin","loader","setLoader","useEffect","document","title","window","scrollTo","dispatch","useDispatch","event","a","preventDefault","mailformat","match","fetch","method","headers","body","JSON","stringify","res","json","data","ok","loginActions","login","_id","name","mobile","gender","isAdmin","token","setTimeout","location","reload","replace","className","classes","loginForm","onSubmit","head","headSpan","details","type","placeholder","required","textBox","onBlur","target","value","formLabel","errmsg","maxlength","failLogIn","onClick","contd","agree","bond","src","preloader","load","alt","NotificationCard","notificationHolder","layout","msg"],"mappings":"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","file":"static/js/16.c73bc75b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"agree\":\"signIn_agree__2qwLl\",\"bond\":\"signIn_bond__60YPm\",\"contd\":\"signIn_contd__1ZtQA\",\"details\":\"signIn_details__2RUPq\",\"errmsg\":\"signIn_errmsg__1iPPS\",\"failLogIn\":\"signIn_failLogIn__38Ugi\",\"formLabel\":\"signIn_formLabel__OYXZG\",\"head\":\"signIn_head__cJiek\",\"headSpan\":\"signIn_headSpan__3ZYix\",\"load\":\"signIn_load__23GkU\",\"login\":\"signIn_login__SW3rz\",\"textBox\":\"signIn_textBox__2Gm5j\",\"cntryCode\":\"signIn_cntryCode__3Ovrd\",\"loginForm\":\"signIn_loginForm__iAfS9\"};","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginActions } from '../../store/loginStore';\r\n\r\nimport NotificationCard from '../../card/notificationCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport classes from './signIn.module.css';\r\n\r\nfunction SignIn(props){\r\n    let navigate = useNavigate();\r\n\r\n    const [email, setEmail] = useState(\" \");\r\n    const [password, setPassword] = useState(\" \");\r\n    const [errMsg, setErrMsg] = useState({ emailVerify: \"ok\", verifyCredentials: \"ok\" });\r\n    const [loggedin, setLoggedin] = useState(false);\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Online Shopping site for shoes in India | Friction';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    function emailHandler(event){\r\n        setEmail(event.target.value);    \r\n    }\r\n\r\n    function passwordHandler(event){\r\n        setPassword(event.target.value);    \r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    async function loginHandler(event){\r\n        event.preventDefault();\r\n        setLoader(true);\r\n        const mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n        if(email.match(mailformat) === false){\r\n            setErrMsg({ ...errMsg, emailVerify: \"ok\"});\r\n            return;\r\n        }\r\n        setErrMsg({ ...errMsg, emailVerify: \"ok\"});\r\n\r\n        const res = await fetch(\"/api/user/login\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email, password })\r\n        });\r\n\r\n        const data = await res.json();\r\n        setLoader(false);\r\n\r\n        if(!res.ok || !data){\r\n            setErrMsg({ ...errMsg, verifyCredentials: \"Incorrect Email or Password\"});\r\n        }\r\n        else{\r\n            \r\n            dispatch(loginActions.login({\r\n                _id: data._id,\r\n                name: data.name,\r\n                mobile: data.mobile,\r\n                email: data.email,\r\n                gender: data.gender,\r\n                isAdmin: data.isAdmin,\r\n                token: data.token\r\n            }));\r\n\r\n            setErrMsg({ ...errMsg, verifyCredentials: \"ok\"});\r\n            setLoggedin(true);\r\n            setTimeout(function(){ setLoggedin(false);\r\n                window.location.reload(true);}, 3000);\r\n            setTimeout(function(){ \r\n                navigate(`/`, { replace: true });\r\n            }, 4000);\r\n        }\r\n        \r\n    }\r\n\r\n    return(\r\n        <div className={classes.login}>\r\n            <form method='POST' className={classes.loginForm} onSubmit = {loginHandler}>\r\n                <p className={classes.head}><span  className={classes.headSpan}>Login</span> or <span  className={classes.headSpan}>Signup</span></p>\r\n                <div className={classes.details}>\r\n                    <input \r\n                        type= \"text\" \r\n                        placeholder=' ' \r\n                        required \r\n                        className={classes.textBox}\r\n                        onBlur = {emailHandler}>\r\n                    </input>\r\n                    <label className={classes.formLabel}>\r\n                       Email*\r\n                    </label>\r\n                    {errMsg.emailVerify !== \"ok\" && <p className={classes.errmsg}>{errMsg.emailVerify}</p>}\r\n                </div>\r\n                <div className={classes.details}>\r\n                    <input \r\n                        type= \"password\" \r\n                        placeholder=' ' \r\n                        maxlength=\"16\"\r\n                        required \r\n                        className={classes.textBox}\r\n                        onBlur = {passwordHandler}>\r\n                    </input>\r\n                    <label className={classes.formLabel}>\r\n                       Password*\r\n                    </label>\r\n                </div>\r\n\r\n                {errMsg.verifyCredentials !== \"ok\" && <p className={classes.errmsg}>{errMsg.verifyCredentials}</p>}\r\n                <p className={classes.failLogIn} onClick = {() => navigate(`/set-password`)}>Forgot Password?</p>\r\n                <button type = \"submit\" value=\"Submit\" className={classes.contd}>CONTINUE</button>\r\n                <p className={classes.agree}> By continuing, I agree to the <span className={classes.bond}>Terms of Use</span> and&nbsp;\r\n                <span className={classes.bond}>Privacy Policy</span></p>\r\n                <p className={classes.failLogIn} onClick = {() => navigate(`/register`)}>New to Friction? Create an account</p>\r\n            </form>\r\n            {loggedin && <NotificationCard value = {\"Logged in Successfully\"} />}\r\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignIn;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","import React from 'react';\r\n\r\nimport classes from './notificationCard.module.css';\r\n\r\nfunction NotificationCard(props){\r\n\r\n    return(\r\n        <div className={classes.notificationHolder}>\r\n        <div className={classes.layout}>\r\n            <p className={classes.msg}>{props.value}</p>\r\n        </div>  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotificationCard","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"notificationCard_layout__2234_\",\"notificationHolder\":\"notificationCard_notificationHolder__1zob_\"};"],"sourceRoot":""}