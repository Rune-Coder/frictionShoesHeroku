{"ast":null,"code":"import _regeneratorRuntime from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import NotificationCard from'../../card/notificationCard';import preloader from'../../image/sectionLoader.gif';import classes from'./registerForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterForm(props){var msg={passWord:\"ok\",email:\"ok\",mob:\"ok\",gen:\"ok\",accCreated:\"ok\"};var _useState=useState(\"Show\"),_useState2=_slicedToArray(_useState,2),showPw=_useState2[0],setShowPw=_useState2[1];var _useState3=useState(\" \"),_useState4=_slicedToArray(_useState3,2),useName=_useState4[0],setUseName=_useState4[1];var _useState5=useState(\" \"),_useState6=_slicedToArray(_useState5,2),usePw=_useState6[0],setUsePw=_useState6[1];var _useState7=useState(\" \"),_useState8=_slicedToArray(_useState7,2),useEmail=_useState8[0],setUseEmail=_useState8[1];var _useState9=useState(\" \"),_useState10=_slicedToArray(_useState9,2),usePh=_useState10[0],setUsePh=_useState10[1];var _useState11=useState(\" \"),_useState12=_slicedToArray(_useState11,2),useGen=_useState12[0],setUseGen=_useState12[1];var _useState13=useState(msg),_useState14=_slicedToArray(_useState13,2),errMsg=_useState14[0],setErrMsg=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),registered=_useState16[0],setRegistered=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loader=_useState18[0],setLoader=_useState18[1];useEffect(function(){document.title='Create Account';window.scrollTo(0,0);});function nameHandler(event){setUseName(event.target.value);}function showPass(event){var pasShow=document.getElementById(\"password\");if(showPw===\"Show\"){setShowPw(\"Hide\");pasShow.type=\"text\";}else{setShowPw(\"Show\");pasShow.type=\"password\";}}function passwordHandler(event){var pw=event.target.value;setUsePw(pw);if(pw.length<8)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{passWord:\"Minimum length must be 8\"}));else if(/[A-Z]/.test(pw)===false)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{passWord:\"Password must have atleast 1 uppercase character\"}));else if(/\\d/.test(pw)===false)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{passWord:\"Password must have atleast 1 numeric character\"}));else if(/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/.test(pw)===false)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{passWord:\"Password must have atleast 1 special character\"}));else setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{passWord:\"ok\"}));}function emailHandler(event){var eml=event.target.value;if(eml.length===0)return;setUseEmail(eml);var mailformat=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(eml.match(mailformat))setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{email:\"ok\"}));else setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{email:\"Enter a valid email\"}));}function mobHandler(event){var ph=event.target.value;setUsePh(ph);if(ph.length<10)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{mob:\"Minimum length is 10\"}));else if(/^\\d+$/.test(ph)===false||ph.charAt(0)<6)setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{mob:\"Please enter a valid 10 digit mobile number\"}));else setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{mob:\"ok\"}));}function genHandler(event){var gen;if(document.getElementById('gen1').checked){gen=document.getElementById('gen1').value;setUseGen(gen);setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{gen:\"ok\"}));}else if(document.getElementById('gen2').checked){gen=document.getElementById('gen2').value;setUseGen(gen);setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{gen:\"ok\"}));}else{setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{gen:\"Please select your gender\"}));}}var navigate=useNavigate();function accSave(_x){return _accSave.apply(this,arguments);}function _accSave(){_accSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setLoader(true);_context.next=4;return fetch(\"/api/user/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:useName,mobile:usePh,email:useEmail,password:usePw,gender:useGen})});case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;setLoader(false);if(!res.ok||!data){setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{accCreated:\"You are already registered!!\"}));}else{setErrMsg(_objectSpread(_objectSpread({},errMsg),{},{accCreated:\"ok\"}));setRegistered(true);setTimeout(function(){setRegistered(false);},3000);setTimeout(function(){navigate(\"/login\");},4000);}case 10:case\"end\":return _context.stop();}}},_callee);}));return _accSave.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",onSubmit:accSave,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\" \",maxlength:\"16\",id:\"password\",required:true,className:classes.textBox,onBlur:passwordHandler}),/*#__PURE__*/_jsx(\"span\",{className:classes.show,onClick:showPass,children:showPw}),/*#__PURE__*/_jsx(\"label\",{className:classes.formLabel,children:\"Create Password*\"}),errMsg.passWord!==\"ok\"&&/*#__PURE__*/_jsx(\"p\",{className:classes.errmsg,children:errMsg.passWord})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\" \",required:true,className:classes.textBox,onBlur:nameHandler}),/*#__PURE__*/_jsx(\"label\",{className:classes.formLabel,children:\"Full Name*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\" \",className:classes.textBox,required:true,onBlur:emailHandler}),/*#__PURE__*/_jsx(\"label\",{className:classes.formLabel,children:\"Email*\"}),errMsg.email!==\"ok\"&&/*#__PURE__*/_jsx(\"p\",{className:classes.errmsg,children:errMsg.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\" \",maxlength:\"10\",className:classes.textBox,required:true,onBlur:mobHandler}),/*#__PURE__*/_jsx(\"label\",{className:classes.formLabel,children:\"Mobile Number*\"}),errMsg.mob!==\"ok\"&&/*#__PURE__*/_jsx(\"p\",{className:classes.errmsg,children:errMsg.mob})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.gen,onClick:genHandler,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Select Gender:\\xA0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"gen1\",name:\"gender\",value:\"Female\",required:true}),/*#__PURE__*/_jsx(\"label\",{for:\"gen1\",children:\"Female\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"gen2\",name:\"gender\",value:\"Male\",required:true}),/*#__PURE__*/_jsx(\"label\",{for:\"gen2\",children:\"Male\"})]}),errMsg.gen!==\"ok\"&&/*#__PURE__*/_jsx(\"p\",{className:classes.errmsg,children:errMsg.gen}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Submit\",className:classes.save,children:\"CREATE ACCOUNT\"}),errMsg.accCreated!==\"ok\"&&/*#__PURE__*/_jsx(\"p\",{className:classes.errmsg,children:errMsg.accCreated}),registered&&/*#__PURE__*/_jsx(NotificationCard,{value:\"Account Created Successfully\"}),loader&&/*#__PURE__*/_jsx(\"img\",{src:preloader,className:classes.load,alt:\"Loading...\"})]});}export default RegisterForm;","map":{"version":3,"sources":["D:/Web Development/React-Project-1/server/client/src/pages/createAcc/registerForm.js"],"names":["React","useState","useEffect","useNavigate","NotificationCard","preloader","classes","RegisterForm","props","msg","passWord","email","mob","gen","accCreated","showPw","setShowPw","useName","setUseName","usePw","setUsePw","useEmail","setUseEmail","usePh","setUsePh","useGen","setUseGen","errMsg","setErrMsg","registered","setRegistered","loader","setLoader","document","title","window","scrollTo","nameHandler","event","target","value","showPass","pasShow","getElementById","type","passwordHandler","pw","length","test","emailHandler","eml","mailformat","match","mobHandler","ph","charAt","genHandler","checked","navigate","accSave","preventDefault","fetch","method","headers","body","JSON","stringify","name","mobile","password","gender","res","json","data","ok","setTimeout","details","textBox","show","formLabel","errmsg","save","load"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport NotificationCard from '../../card/notificationCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport classes from './registerForm.module.css';\r\n\r\nfunction RegisterForm(props){\r\n\r\n    const msg = {passWord: \"ok\", email: \"ok\", mob: \"ok\", gen: \"ok\", accCreated: \"ok\"};\r\n\r\n    const [showPw, setShowPw] = useState(\"Show\");\r\n    const [useName, setUseName] = useState(\" \");\r\n    const [usePw, setUsePw] = useState(\" \");\r\n    const [useEmail, setUseEmail] = useState(\" \");\r\n    const [usePh, setUsePh] = useState(\" \");\r\n    const [useGen, setUseGen] = useState(\" \");\r\n    const [errMsg, setErrMsg] = useState(msg);\r\n    const [registered, setRegistered] = useState(false);\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Create Account';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    function nameHandler(event){\r\n        setUseName(event.target.value);\r\n    }\r\n\r\n    function showPass(event){\r\n        const pasShow = document.getElementById(\"password\");\r\n        if(showPw === \"Show\"){\r\n            setShowPw(\"Hide\");\r\n            pasShow.type = \"text\";\r\n        }\r\n        else{\r\n            setShowPw(\"Show\");\r\n            pasShow.type = \"password\";\r\n        }\r\n    }\r\n\r\n    function passwordHandler(event){\r\n        const pw = event.target.value;\r\n        setUsePw(pw);\r\n\r\n        if(pw.length < 8)\r\n            setErrMsg({ ...errMsg, passWord: \"Minimum length must be 8\"});\r\n        else if(/[A-Z]/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 uppercase character\"});\r\n        else if(/\\d/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 numeric character\"});\r\n        else if(/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 special character\"});\r\n        else\r\n            setErrMsg({ ...errMsg, passWord: \"ok\"});\r\n    }\r\n\r\n    function emailHandler(event){\r\n        const eml = event.target.value;\r\n        if(eml.length === 0)\r\n            return;\r\n        setUseEmail(eml);\r\n\r\n        const mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n        if(eml.match(mailformat))\r\n            setErrMsg({ ...errMsg, email: \"ok\"}); \r\n        else\r\n            setErrMsg({ ...errMsg, email: \"Enter a valid email\"});\r\n    }\r\n\r\n    function mobHandler(event){\r\n        const ph = event.target.value;\r\n        setUsePh(ph);\r\n        if(ph.length < 10)\r\n            setErrMsg({ ...errMsg, mob: \"Minimum length is 10\"});\r\n        else if((/^\\d+$/.test(ph) === false) || (ph.charAt(0) < 6))\r\n            setErrMsg({ ...errMsg, mob: \"Please enter a valid 10 digit mobile number\"});\r\n        else\r\n            setErrMsg({ ...errMsg, mob: \"ok\"});\r\n    }\r\n\r\n    function genHandler(event){\r\n        var gen;\r\n        if (document.getElementById('gen1').checked) {\r\n            gen = document.getElementById('gen1').value;\r\n            setUseGen(gen);\r\n            setErrMsg({ ...errMsg, gen: \"ok\"});\r\n        }\r\n        else if (document.getElementById('gen2').checked) {\r\n            gen = document.getElementById('gen2').value;\r\n            setUseGen(gen);\r\n            setErrMsg({ ...errMsg, gen: \"ok\"});\r\n        }\r\n        else{\r\n            setErrMsg({ ...errMsg, gen: \"Please select your gender\"});\r\n        }\r\n    }\r\n\r\n    let navigate = useNavigate();\r\n\r\n    async function accSave(event){  \r\n        event.preventDefault();\r\n        setLoader(true);\r\n        const res = await fetch(\"/api/user/register\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name: useName,\r\n                mobile: usePh,\r\n                email: useEmail,\r\n                password: usePw,\r\n                gender: useGen\r\n            })\r\n        });\r\n\r\n        const data = await res.json();\r\n        setLoader(false);\r\n        \r\n        if(!res.ok || !data){\r\n            setErrMsg({ ...errMsg, accCreated: \"You are already registered!!\"});\r\n        }\r\n        else{\r\n            setErrMsg({ ...errMsg, accCreated: \"ok\"});\r\n            setRegistered(true);\r\n            setTimeout(function(){ setRegistered(false);}, 3000);\r\n            setTimeout(function(){ navigate(`/login`);}, 4000);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <form method='POST' onSubmit={accSave}>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"password\" \r\n                    placeholder=' '\r\n                    maxlength=\"16\"  \r\n                    id= \"password\"\r\n                    required \r\n                    className={classes.textBox}\r\n                    onBlur = {passwordHandler}>\r\n                </input>\r\n                <span className={classes.show} onClick={showPass}>\r\n                    {showPw}\r\n                </span>\r\n                <label className={classes.formLabel}>\r\n                    Create Password*\r\n                </label>\r\n                {errMsg.passWord !== \"ok\" && <p className={classes.errmsg}>{errMsg.passWord}</p>}\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' '  \r\n                    required \r\n                    className={classes.textBox}\r\n                    onBlur = {nameHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Full Name*\r\n                </label>\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' '  \r\n                    className={classes.textBox}\r\n                    required\r\n                    onBlur = {emailHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Email*\r\n                </label>\r\n                {errMsg.email !== \"ok\" && <p className={classes.errmsg}>{errMsg.email}</p>}\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' ' \r\n                    maxlength=\"10\"  \r\n                    className={classes.textBox}\r\n                    required\r\n                    onBlur = {mobHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Mobile Number*\r\n                </label>\r\n                {errMsg.mob !== \"ok\" && <p className={classes.errmsg}>{errMsg.mob}</p>}\r\n            </div>\r\n\r\n            <div className={classes.gen} onClick = {genHandler}>\r\n                <p>Select Gender:&nbsp;</p>\r\n                <input type=\"radio\" id= \"gen1\" name=\"gender\" value=\"Female\" required>\r\n                </input>\r\n                <label for=\"gen1\">Female</label>\r\n                <input type=\"radio\" id= \"gen2\" name=\"gender\" value=\"Male\" required>\r\n                </input>\r\n                <label for=\"gen2\">Male</label>\r\n            </div>\r\n            {errMsg.gen !== \"ok\" && <p className={classes.errmsg}>{errMsg.gen}</p>}\r\n\r\n            <button type= \"submit\" value=\"Submit\" className={classes.save}>CREATE ACCOUNT</button>\r\n\r\n            {errMsg.accCreated !== \"ok\" && <p className={classes.errmsg}>{errMsg.accCreated}</p>}\r\n            {registered && <NotificationCard value = {\"Account Created Successfully\"} />}\r\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}