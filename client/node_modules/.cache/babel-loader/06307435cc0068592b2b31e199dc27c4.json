{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\React-Project-1\\\\src\\\\pages\\\\createAcc\\\\registerForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport NotificationCard from '../../card/notificationCard';\nimport preloader from '../../image/sectionLoader.gif';\nimport classes from './registerForm.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegisterForm(props) {\n  _s();\n\n  const msg = {\n    passWord: \"ok\",\n    email: \"ok\",\n    mob: \"ok\",\n    gen: \"ok\",\n    accCreated: \"ok\"\n  };\n  const [showPw, setShowPw] = useState(\"Show\");\n  const [useName, setUseName] = useState(\" \");\n  const [usePw, setUsePw] = useState(\" \");\n  const [useEmail, setUseEmail] = useState(\" \");\n  const [usePh, setUsePh] = useState(\" \");\n  const [useGen, setUseGen] = useState(\" \");\n  const [errMsg, setErrMsg] = useState(msg);\n  const [registered, setRegistered] = useState(false);\n  const [loader, setLoader] = useState(false);\n  useEffect(() => {\n    document.title = 'Create Account';\n  });\n\n  function nameHandler(event) {\n    setUseName(event.target.value);\n  }\n\n  function showPass(event) {\n    const pasShow = document.getElementById(\"password\");\n\n    if (showPw === \"Show\") {\n      setShowPw(\"Hide\");\n      pasShow.type = \"text\";\n    } else {\n      setShowPw(\"Show\");\n      pasShow.type = \"password\";\n    }\n  }\n\n  function passwordHandler(event) {\n    const pw = event.target.value;\n    setUsePw(pw);\n    if (pw.length < 8) setErrMsg({ ...errMsg,\n      passWord: \"Minimum length must be 8\"\n    });else if (/[A-Z]/.test(pw) === false) setErrMsg({ ...errMsg,\n      passWord: \"Password must have atleast 1 uppercase character\"\n    });else if (/\\d/.test(pw) === false) setErrMsg({ ...errMsg,\n      passWord: \"Password must have atleast 1 numeric character\"\n    });else if (/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/.test(pw) === false) setErrMsg({ ...errMsg,\n      passWord: \"Password must have atleast 1 special character\"\n    });else setErrMsg({ ...errMsg,\n      passWord: \"ok\"\n    });\n  }\n\n  function emailHandler(event) {\n    const eml = event.target.value;\n    if (eml.length === 0) return;\n    setUseEmail(eml);\n    const mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (eml.match(mailformat)) setErrMsg({ ...errMsg,\n      email: \"ok\"\n    });else setErrMsg({ ...errMsg,\n      email: \"Enter a valid email\"\n    });\n  }\n\n  function mobHandler(event) {\n    const ph = event.target.value;\n    setUsePh(ph);\n    if (ph.length < 10) setErrMsg({ ...errMsg,\n      mob: \"Minimum length is 10\"\n    });else if (/^\\d+$/.test(ph) === false || ph.charAt(0) < 6) setErrMsg({ ...errMsg,\n      mob: \"Please enter a valid 10 digit mobile number\"\n    });else setErrMsg({ ...errMsg,\n      mob: \"ok\"\n    });\n  }\n\n  function genHandler(event) {\n    var gen;\n\n    if (document.getElementById('gen1').checked) {\n      gen = document.getElementById('gen1').value;\n      setUseGen(gen);\n      setErrMsg({ ...errMsg,\n        gen: \"ok\"\n      });\n    } else if (document.getElementById('gen2').checked) {\n      gen = document.getElementById('gen2').value;\n      setUseGen(gen);\n      setErrMsg({ ...errMsg,\n        gen: \"ok\"\n      });\n    } else {\n      setErrMsg({ ...errMsg,\n        gen: \"Please select your gender\"\n      });\n    }\n  }\n\n  let navigate = useNavigate();\n\n  async function accSave(event) {\n    event.preventDefault();\n    setLoader(true);\n    const res = await fetch(\"/api/user/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: useName,\n        mobile: usePh,\n        email: useEmail,\n        password: usePw,\n        gender: useGen\n      })\n    });\n    const data = await res.json();\n    setLoader(false);\n\n    if (!res.ok || !data) {\n      setErrMsg({ ...errMsg,\n        accCreated: \"You are already registered!!\"\n      });\n    } else {\n      setErrMsg({ ...errMsg,\n        accCreated: \"ok\"\n      });\n      setRegistered(true);\n      setTimeout(function () {\n        setRegistered(false);\n      }, 3000);\n      setTimeout(function () {\n        navigate(`/login`);\n      }, 4000);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    method: \"POST\",\n    onSubmit: accSave,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.details,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \" \",\n        maxlength: \"16\",\n        id: \"password\",\n        required: true,\n        className: classes.textBox,\n        onBlur: passwordHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.show,\n        onClick: showPass,\n        children: showPw\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: classes.formLabel,\n        children: \"Create Password*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), errMsg.passWord !== \"ok\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.errmsg,\n        children: errMsg.passWord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 46\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.details,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \" \",\n        required: true,\n        className: classes.textBox,\n        onBlur: nameHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: classes.formLabel,\n        children: \"Full Name*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.details,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \" \",\n        className: classes.textBox,\n        required: true,\n        onBlur: emailHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: classes.formLabel,\n        children: \"Email*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), errMsg.email !== \"ok\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.errmsg,\n        children: errMsg.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.details,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \" \",\n        maxlength: \"10\",\n        className: classes.textBox,\n        required: true,\n        onBlur: mobHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: classes.formLabel,\n        children: \"Mobile Number*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), errMsg.mob !== \"ok\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.errmsg,\n        children: errMsg.mob\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.gen,\n      onClick: genHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select Gender:\\xA0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"gen1\",\n        name: \"gender\",\n        value: \"Female\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"gen1\",\n        children: \"Female\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"gen2\",\n        name: \"gender\",\n        value: \"Male\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"gen2\",\n        children: \"Male\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), errMsg.gen !== \"ok\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: classes.errmsg,\n      children: errMsg.gen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 37\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: classes.save,\n      children: \"CREATE ACCOUNT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this), errMsg.accCreated !== \"ok\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: classes.errmsg,\n      children: errMsg.accCreated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 44\n    }, this), registered && /*#__PURE__*/_jsxDEV(NotificationCard, {\n      value: \"Account Created Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 28\n    }, this), loader && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: preloader,\n      className: classes.load,\n      alt: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegisterForm, \"PRkOubIpY3CZTRNX8brm1pxID3I=\", false, function () {\n  return [useNavigate];\n});\n\n_c = RegisterForm;\nexport default RegisterForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"sources":["D:/Web Development/React-Project-1/src/pages/createAcc/registerForm.js"],"names":["React","useState","useEffect","useNavigate","NotificationCard","preloader","classes","RegisterForm","props","msg","passWord","email","mob","gen","accCreated","showPw","setShowPw","useName","setUseName","usePw","setUsePw","useEmail","setUseEmail","usePh","setUsePh","useGen","setUseGen","errMsg","setErrMsg","registered","setRegistered","loader","setLoader","document","title","nameHandler","event","target","value","showPass","pasShow","getElementById","type","passwordHandler","pw","length","test","emailHandler","eml","mailformat","match","mobHandler","ph","charAt","genHandler","checked","navigate","accSave","preventDefault","res","fetch","method","headers","body","JSON","stringify","name","mobile","password","gender","data","json","ok","setTimeout","details","textBox","show","formLabel","errmsg","save","load"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport NotificationCard from '../../card/notificationCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport classes from './registerForm.module.css';\r\n\r\nfunction RegisterForm(props){\r\n\r\n    const msg = {passWord: \"ok\", email: \"ok\", mob: \"ok\", gen: \"ok\", accCreated: \"ok\"};\r\n\r\n    const [showPw, setShowPw] = useState(\"Show\");\r\n    const [useName, setUseName] = useState(\" \");\r\n    const [usePw, setUsePw] = useState(\" \");\r\n    const [useEmail, setUseEmail] = useState(\" \");\r\n    const [usePh, setUsePh] = useState(\" \");\r\n    const [useGen, setUseGen] = useState(\" \");\r\n    const [errMsg, setErrMsg] = useState(msg);\r\n    const [registered, setRegistered] = useState(false);\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Create Account';\r\n    });\r\n\r\n    function nameHandler(event){\r\n        setUseName(event.target.value);\r\n    }\r\n\r\n    function showPass(event){\r\n        const pasShow = document.getElementById(\"password\");\r\n        if(showPw === \"Show\"){\r\n            setShowPw(\"Hide\");\r\n            pasShow.type = \"text\";\r\n        }\r\n        else{\r\n            setShowPw(\"Show\");\r\n            pasShow.type = \"password\";\r\n        }\r\n    }\r\n\r\n    function passwordHandler(event){\r\n        const pw = event.target.value;\r\n        setUsePw(pw);\r\n\r\n        if(pw.length < 8)\r\n            setErrMsg({ ...errMsg, passWord: \"Minimum length must be 8\"});\r\n        else if(/[A-Z]/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 uppercase character\"});\r\n        else if(/\\d/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 numeric character\"});\r\n        else if(/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/.test(pw) === false)\r\n            setErrMsg({ ...errMsg, passWord: \"Password must have atleast 1 special character\"});\r\n        else\r\n            setErrMsg({ ...errMsg, passWord: \"ok\"});\r\n    }\r\n\r\n    function emailHandler(event){\r\n        const eml = event.target.value;\r\n        if(eml.length === 0)\r\n            return;\r\n        setUseEmail(eml);\r\n\r\n        const mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n        if(eml.match(mailformat))\r\n            setErrMsg({ ...errMsg, email: \"ok\"}); \r\n        else\r\n            setErrMsg({ ...errMsg, email: \"Enter a valid email\"});\r\n    }\r\n\r\n    function mobHandler(event){\r\n        const ph = event.target.value;\r\n        setUsePh(ph);\r\n        if(ph.length < 10)\r\n            setErrMsg({ ...errMsg, mob: \"Minimum length is 10\"});\r\n        else if((/^\\d+$/.test(ph) === false) || (ph.charAt(0) < 6))\r\n            setErrMsg({ ...errMsg, mob: \"Please enter a valid 10 digit mobile number\"});\r\n        else\r\n            setErrMsg({ ...errMsg, mob: \"ok\"});\r\n    }\r\n\r\n    function genHandler(event){\r\n        var gen;\r\n        if (document.getElementById('gen1').checked) {\r\n            gen = document.getElementById('gen1').value;\r\n            setUseGen(gen);\r\n            setErrMsg({ ...errMsg, gen: \"ok\"});\r\n        }\r\n        else if (document.getElementById('gen2').checked) {\r\n            gen = document.getElementById('gen2').value;\r\n            setUseGen(gen);\r\n            setErrMsg({ ...errMsg, gen: \"ok\"});\r\n        }\r\n        else{\r\n            setErrMsg({ ...errMsg, gen: \"Please select your gender\"});\r\n        }\r\n    }\r\n\r\n    let navigate = useNavigate();\r\n\r\n    async function accSave(event){  \r\n        event.preventDefault();\r\n        setLoader(true);\r\n        const res = await fetch(\"/api/user/register\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name: useName,\r\n                mobile: usePh,\r\n                email: useEmail,\r\n                password: usePw,\r\n                gender: useGen\r\n            })\r\n        });\r\n\r\n        const data = await res.json();\r\n        setLoader(false);\r\n        \r\n        if(!res.ok || !data){\r\n            setErrMsg({ ...errMsg, accCreated: \"You are already registered!!\"});\r\n        }\r\n        else{\r\n            setErrMsg({ ...errMsg, accCreated: \"ok\"});\r\n            setRegistered(true);\r\n            setTimeout(function(){ setRegistered(false);}, 3000);\r\n            setTimeout(function(){ navigate(`/login`);}, 4000);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <form method='POST' onSubmit={accSave}>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"password\" \r\n                    placeholder=' '\r\n                    maxlength=\"16\"  \r\n                    id= \"password\"\r\n                    required \r\n                    className={classes.textBox}\r\n                    onBlur = {passwordHandler}>\r\n                </input>\r\n                <span className={classes.show} onClick={showPass}>\r\n                    {showPw}\r\n                </span>\r\n                <label className={classes.formLabel}>\r\n                    Create Password*\r\n                </label>\r\n                {errMsg.passWord !== \"ok\" && <p className={classes.errmsg}>{errMsg.passWord}</p>}\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' '  \r\n                    required \r\n                    className={classes.textBox}\r\n                    onBlur = {nameHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Full Name*\r\n                </label>\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' '  \r\n                    className={classes.textBox}\r\n                    required\r\n                    onBlur = {emailHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Email*\r\n                </label>\r\n                {errMsg.email !== \"ok\" && <p className={classes.errmsg}>{errMsg.email}</p>}\r\n            </div>\r\n\r\n            <div className={classes.details}>\r\n                <input \r\n                    type= \"text\" \r\n                    placeholder=' ' \r\n                    maxlength=\"10\"  \r\n                    className={classes.textBox}\r\n                    required\r\n                    onBlur = {mobHandler}>\r\n                </input>\r\n                <label className={classes.formLabel}>\r\n                    Mobile Number*\r\n                </label>\r\n                {errMsg.mob !== \"ok\" && <p className={classes.errmsg}>{errMsg.mob}</p>}\r\n            </div>\r\n\r\n            <div className={classes.gen} onClick = {genHandler}>\r\n                <p>Select Gender:&nbsp;</p>\r\n                <input type=\"radio\" id= \"gen1\" name=\"gender\" value=\"Female\" required>\r\n                </input>\r\n                <label for=\"gen1\">Female</label>\r\n                <input type=\"radio\" id= \"gen2\" name=\"gender\" value=\"Male\" required>\r\n                </input>\r\n                <label for=\"gen2\">Male</label>\r\n            </div>\r\n            {errMsg.gen !== \"ok\" && <p className={classes.errmsg}>{errMsg.gen}</p>}\r\n\r\n            <button type= \"submit\" value=\"Submit\" className={classes.save}>CREATE ACCOUNT</button>\r\n\r\n            {errMsg.accCreated !== \"ok\" && <p className={classes.errmsg}>{errMsg.accCreated}</p>}\r\n            {registered && <NotificationCard value = {\"Account Created Successfully\"} />}\r\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}