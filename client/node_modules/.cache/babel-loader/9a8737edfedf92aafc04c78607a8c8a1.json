{"ast":null,"code":"import _slicedToArray from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import ProductCard from'../../card/productCard';import preloader from'../../image/sectionLoader.gif';import Pagination from'../../pagination/pagination';import classes from'./shoeTypes.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShoeTypes(props){var _useParams=useParams(),tname=_useParams.tname;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currPage=_useState4[0],setCurrPage=_useState4[1];var postPerPage=10;var _tname$split=tname.split(\"-\"),_tname$split2=_slicedToArray(_tname$split,2),gen=_tname$split2[0],stype=_tname$split2[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loader=_useState6[0],setLoader=_useState6[1];useEffect(function(){document.title='Buy '+gen.charAt(0).toUpperCase()+gen.slice(1)+' '+stype.charAt(0).toUpperCase()+stype.slice(1)+' Online in India | Friction';window.scrollTo(0,0);});function getData(){setLoader(true);fetch(\"/api/products/type/\".concat(tname),{mode:'cors'}).then(function(response){return response.json();}).then(function(data){setProducts(data);setLoader(false);});}useEffect(function(){getData();},[]);if(products){var lastPostIndex=currPage*postPerPage;var firstPostIndex=lastPostIndex-postPerPage;var currProducts=products.slice(firstPostIndex,lastPostIndex);var productList=currProducts.map(function(shoe){return/*#__PURE__*/_jsx(ProductCard,{id:shoe._id,image:shoe.image,company:shoe.company,product:shoe.product,rating:shoe.rating,sp:shoe.sp,mrp:shoe.mrp,discount:shoe.discount},shoe._id);});return/*#__PURE__*/_jsxs(\"div\",{className:classes.layout,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.catalogue,children:[productList,loader&&/*#__PURE__*/_jsx(\"img\",{src:preloader,alt:\"Loading...\"})]}),/*#__PURE__*/_jsx(Pagination,{totalPost:products.length,postPerPage:postPerPage,setCurrPage:setCurrPage,currPage:currPage})]});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:preloader,alt:\"Loading...\"})});}export default ShoeTypes;","map":{"version":3,"sources":["D:/Web Development/React-Project-1/server/client/src/pages/shoeTypes/shoeTypes.js"],"names":["React","useState","useEffect","useParams","ProductCard","preloader","Pagination","classes","ShoeTypes","props","tname","products","setProducts","currPage","setCurrPage","postPerPage","split","gen","stype","loader","setLoader","document","title","charAt","toUpperCase","slice","window","scrollTo","getData","fetch","mode","then","response","json","data","lastPostIndex","firstPostIndex","currProducts","productList","map","shoe","_id","image","company","product","rating","sp","mrp","discount","layout","catalogue","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport ProductCard from '../../card/productCard';\r\nimport preloader from '../../image/sectionLoader.gif';\r\nimport Pagination from '../../pagination/pagination';\r\nimport classes from './shoeTypes.module.css';\r\n\r\nfunction ShoeTypes(props){\r\n\r\n    const {tname} = useParams();\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [currPage, setCurrPage] = useState(1);\r\n    const postPerPage = 10;\r\n\r\n    const [gen, stype] = tname.split(\"-\");\r\n\r\n    const [loader, setLoader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = 'Buy '+ gen.charAt(0).toUpperCase() + gen.slice(1) +' '+ stype.charAt(0).toUpperCase() + stype.slice(1) + ' Online in India | Friction';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    function getData(){\r\n        setLoader(true);\r\n        fetch(`/api/products/type/${tname}`, {mode: 'cors'})\r\n        .then((response) => {\r\n            return response.json();\r\n        }).then((data) => {\r\n            setProducts(data);\r\n            setLoader(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() =>{\r\n        getData();\r\n    }, []);\r\n\r\n\r\n    if(products){\r\n\r\n        const lastPostIndex = currPage * postPerPage;\r\n        const firstPostIndex = lastPostIndex - postPerPage;\r\n\r\n        const currProducts = products.slice(firstPostIndex, lastPostIndex);\r\n\r\n\r\n        const productList = currProducts.map((shoe) => (\r\n            <ProductCard \r\n                key = {shoe._id} \r\n                id = {shoe._id}\r\n                image = {shoe.image}\r\n                company = {shoe.company} \r\n                product = {shoe.product} \r\n                rating = {shoe.rating} \r\n                sp = {shoe.sp} \r\n                mrp = {shoe.mrp} \r\n                discount = {shoe.discount}\r\n            />\r\n        ));\r\n        return(\r\n            <div className={classes.layout}>\r\n                <div className={classes.catalogue}>\r\n                    {productList}\r\n                    {loader && <img src = {preloader} alt = \"Loading...\"></img>}\r\n                </div>\r\n                <Pagination totalPost = {products.length} postPerPage = {postPerPage} setCurrPage = {setCurrPage} currPage = {currPage}/>\r\n            </div>\r\n        );\r\n    }\r\n    return(\r\n        <div>\r\n            <img src = {preloader} alt = \"Loading...\"></img>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShoeTypes;"]},"metadata":{},"sourceType":"module"}