{"ast":null,"code":"import _regeneratorRuntime from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Web Development/React-Project-1/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment,React,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{cartActions}from'../store/cartStore';import CloseIcon from'../icons/closeIcon';import classes from'./alertCard.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AlertCard(props){var dispatch=useDispatch();var alertItems=useSelector(function(state){return state.cart.alertDetails;});var userSub=useSelector(function(state){return state.login.userData;});var _useState=useState(alertItems[0].value.toString()),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];//post cart data mongodb\nfunction postData(_x,_x2,_x3){return _postData.apply(this,arguments);}function _postData(){_postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,cart,bill){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/user/history-create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,cart:cart,bill:bill})});case 2:res=_context.sent;_context.next=5;return res.json();case 5:case\"end\":return _context.stop();}}},_callee);}));return _postData.apply(this,arguments);}function closeHandler(event){dispatch(cartActions.open({id:alertItems[0].id,topic:alertItems[0].topic,sz:alertItems[0].sz,value:alertItems[0].value}));}function valueHandler(event){setValue(event.target.innerText);return;}function finalValue(event){dispatch(cartActions.done({id:alertItems[0].id,topic:alertItems[0].topic,sz:alertItems[0].sz,value:value}));//store cart in mongodb\nvar email=userSub.email;var cart=JSON.parse(localStorage.getItem(\"products\"));var bill=JSON.parse(localStorage.getItem(\"billStore\"));postData(email,cart,bill);}function closeRem(event){props.confirm(0);}function remItem(event){props.confirm(1);}return/*#__PURE__*/_jsxs(\"div\",{className:classes.cardLayout,children:[!props.value&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.close,children:/*#__PURE__*/_jsx(\"span\",{className:classes.closeIcon,onClick:closeHandler,children:/*#__PURE__*/_jsx(CloseIcon,{})})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Select \",alertItems[0].topic]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.value,children:[alertItems[0].topic===\"Quantity\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"1\"?classes.active:'',onClick:valueHandler,children:\"1\"}),alertItems[0].topic===\"Quantity\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"2\"?classes.active:'',onClick:valueHandler,children:\"2\"}),alertItems[0].topic===\"Quantity\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"3\"?classes.active:'',onClick:valueHandler,children:\"3\"}),alertItems[0].topic===\"Quantity\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"4\"?classes.active:'',onClick:valueHandler,children:\"4\"}),alertItems[0].topic===\"Quantity\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"5\"?classes.active:'',onClick:valueHandler,children:\"5\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"6\"?classes.active:'',onClick:valueHandler,children:\"6\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"7\"?classes.active:'',onClick:valueHandler,children:\"7\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"8\"?classes.active:'',onClick:valueHandler,children:\"8\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"9\"?classes.active:'',onClick:valueHandler,children:\"9\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:value===\"10\"?classes.active:'',onClick:valueHandler,children:\"10\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.done,onClick:finalValue,children:\"DONE\"})]}),props.value&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.close,children:/*#__PURE__*/_jsx(\"span\",{className:classes.closeIcon,onClick:closeRem,children:/*#__PURE__*/_jsx(CloseIcon,{})})}),/*#__PURE__*/_jsx(\"p\",{className:classes.head,children:\"Remove from Bag\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to remove this item from bag?\"}),/*#__PURE__*/_jsx(\"p\",{className:classes.msg,children:\"You can save items to your wishlist to use this product later\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.confirmBtn,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.rem,onClick:remItem,children:\"REMOVE\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.cancel,onClick:closeRem,children:\"CANCEL\"})]})]})]});}export default AlertCard;","map":{"version":3,"sources":["D:/Web Development/React-Project-1/server/client/src/card/alertCard.js"],"names":["Fragment","React","useState","useSelector","useDispatch","cartActions","CloseIcon","classes","AlertCard","props","dispatch","alertItems","state","cart","alertDetails","userSub","login","userData","value","toString","setValue","postData","email","bill","fetch","method","headers","body","JSON","stringify","res","json","closeHandler","event","open","id","topic","sz","valueHandler","target","innerText","finalValue","done","parse","localStorage","getItem","closeRem","confirm","remItem","cardLayout","close","closeIcon","active","head","msg","confirmBtn","rem","cancel"],"mappings":"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","sourcesContent":["import { Fragment, React, useState } from 'react';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { cartActions } from '../store/cartStore';\r\n\r\nimport CloseIcon from '../icons/closeIcon';\r\nimport classes from './alertCard.module.css';\r\n\r\nfunction AlertCard(props){\r\n    const dispatch = useDispatch();\r\n    const alertItems = useSelector((state) => state.cart.alertDetails);\r\n    const userSub = useSelector((state) => state.login.userData);\r\n\r\n    const [value, setValue] = useState(alertItems[0].value.toString());\r\n\r\n    //post cart data mongodb\r\n    async function postData(email, cart, bill){\r\n\r\n        const res = await fetch(\"/api/user/history-create\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email, cart, bill })\r\n        });\r\n    \r\n        await res.json();\r\n\r\n    }\r\n\r\n    function closeHandler(event){\r\n        dispatch(cartActions.open({\r\n            id: alertItems[0].id,\r\n            topic: alertItems[0].topic,\r\n            sz: alertItems[0].sz,\r\n            value: alertItems[0].value,\r\n        }));\r\n    }\r\n    function valueHandler(event){\r\n        setValue(event.target.innerText);\r\n        return;\r\n    }\r\n    function finalValue(event){\r\n        dispatch(cartActions.done({\r\n            id: alertItems[0].id,\r\n            topic: alertItems[0].topic,\r\n            sz: alertItems[0].sz,\r\n            value: value,\r\n        }));\r\n\r\n        //store cart in mongodb\r\n        const email = userSub.email;\r\n        const cart = JSON.parse(localStorage.getItem(\"products\"));\r\n        const bill = JSON.parse(localStorage.getItem(\"billStore\"));\r\n\r\n        postData(email, cart, bill);\r\n    }\r\n    function closeRem(event){\r\n        props.confirm(0);\r\n    }\r\n    function remItem(event){\r\n        props.confirm(1);\r\n    }\r\n\r\n    return(\r\n        <div className={classes.cardLayout}>\r\n            {!props.value && <Fragment>\r\n                <p className={classes.close}><span className={classes.closeIcon} onClick={closeHandler}><CloseIcon /></span></p>\r\n                <p>Select {alertItems[0].topic}</p>\r\n                <div className={classes.value}>\r\n                    {alertItems[0].topic === \"Quantity\" && <button type = \"button\" className={value === \"1\" ? classes.active : ''} onClick={valueHandler}>1</button>}\r\n                    {alertItems[0].topic === \"Quantity\" && <button type = \"button\" className={value === \"2\" ? classes.active : ''} onClick={valueHandler}>2</button>}\r\n                    {alertItems[0].topic === \"Quantity\" && <button type = \"button\" className={value === \"3\" ? classes.active : ''} onClick={valueHandler}>3</button>}\r\n                    {alertItems[0].topic === \"Quantity\" && <button type = \"button\" className={value === \"4\" ? classes.active : ''} onClick={valueHandler}>4</button>}\r\n                    {alertItems[0].topic === \"Quantity\" && <button type = \"button\" className={value === \"5\" ? classes.active : ''} onClick={valueHandler}>5</button>}\r\n                    <button type = \"button\" className={value === \"6\" ? classes.active : ''} onClick={valueHandler}>6</button>\r\n                    <button type = \"button\" className={value === \"7\" ? classes.active : ''} onClick={valueHandler}>7</button>\r\n                    <button type = \"button\" className={value === \"8\" ? classes.active : ''} onClick={valueHandler}>8</button>\r\n                    <button type = \"button\" className={value === \"9\" ? classes.active : ''} onClick={valueHandler}>9</button>\r\n                    <button type = \"button\" className={value === \"10\" ? classes.active : ''} onClick={valueHandler}>10</button>\r\n                </div>\r\n                <button type = \"button\" className={classes.done} onClick={finalValue}>DONE</button>\r\n            </Fragment>}\r\n            {props.value && <div>\r\n                <p className={classes.close}><span className={classes.closeIcon} onClick={closeRem}><CloseIcon /></span></p>\r\n                <p className={classes.head}>Remove from Bag</p>\r\n                <p>Are you sure you want to remove this item from bag?</p>\r\n                <p className={classes.msg}>You can save items to your wishlist to use this product later</p>\r\n                <div className={classes.confirmBtn}>\r\n                    <button type = \"button\" className={classes.rem} onClick={remItem}>REMOVE</button>\r\n                    <button type = \"button\" className={classes.cancel} onClick={closeRem}>CANCEL</button>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AlertCard;"]},"metadata":{},"sourceType":"module"}