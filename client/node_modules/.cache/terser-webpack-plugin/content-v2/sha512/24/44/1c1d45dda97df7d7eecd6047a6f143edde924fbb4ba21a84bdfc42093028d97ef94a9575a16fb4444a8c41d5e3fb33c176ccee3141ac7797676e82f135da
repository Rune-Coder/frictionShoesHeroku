{"code":"(this.webpackJsonpreact_sample_1=this.webpackJsonpreact_sample_1||[]).push([[14],{128:function(e,t,a){e.exports={check:\"paymentOptions_check__3DMld\",continue:\"paymentOptions_continue__1WUr6\",load:\"paymentOptions_load__3phRN\",paymentCard:\"paymentOptions_paymentCard__3SXDo\",paymentOps:\"paymentOptions_paymentOps__jtpHD\",selectOps:\"paymentOptions_selectOps__4HRtN\",subHead:\"paymentOptions_subHead__2S7bd\",summary:\"paymentOptions_summary__3YNQf\"}},129:function(e,t,a){e.exports={layout:\"payment_layout__37EJz\"}},152:function(e,t,a){\"use strict\";a.r(t);var n=a(1),s=a(78),c=a(19),r=a.n(c),i=a(23),o=a(4),l=a(3),u=a(12),p=a(42),d=a(128),m=a.n(d),j=a(40),O=a(66),h=a(0);var b=function(e){var t=localStorage.getItem(\"billStore\")?JSON.parse(localStorage.getItem(\"billStore\")):[{amount:0}],a=localStorage.getItem(\"products\")?JSON.parse(localStorage.getItem(\"products\")):[],s=Object(u.c)((function(e){return e.address.currAddress})),c=Object(u.c)((function(e){return e.login.userData})),d=Object(n.useState)(!1),b=Object(o.a)(d,2),f=b[0],y=b[1],x=Object(l.g)(),_=Object(u.b)(),N=Object(n.useState)([]),v=Object(o.a)(N,2),g=v[0],k=v[1],S=Object(n.useState)(\" \"),C=Object(o.a)(S,2),w=C[0],T=C[1];function D(){return D=Object(i.a)(r.a.mark((function e(t,a){var n,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],e.next=4,fetch(\"/api/user/history-create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:t,cart:n,bill:s,orders:a})});case 4:return c=e.sent,e.next=7,c.json();case 7:case\"end\":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(){return(M=Object(i.a)(r.a.mark((function e(t){var a,n,s,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,fetch(\"/api/payment/checkout\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({amount:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok||!n){e.next=11;break}console.log(n),e.next=12;break;case 11:return e.abrupt(\"return\");case 12:return e.next=14,fetch(\"/api/payment/key\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 14:return s=e.sent,e.next=17,s.json();case 17:if(i=e.sent,s.ok&&i){e.next=20;break}return e.abrupt(\"return\");case 20:y(!1),o={key:i,amount:n.amount,currency:\"INR\",name:\"Friction\",description:\"Online Shopping site for Shoes in India\",image:\"/images/icon.png\",order_id:n.id,callback_url:\"/api/payment/verification\",prefill:{name:c.name,email:c.email,contact:c.mobile},notes:{address:\"Razorpay Corporate Office\"},theme:{color:\"#446A46\"}},new window.Razorpay(o).open();case 24:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"/api/user/history-get\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,a.ok&&n.orders&&k(n.orders);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(c.email)}),[c.email]),Object(h.jsxs)(\"div\",{className:m.a.paymentCard,children:[Object(h.jsxs)(\"div\",{className:m.a.summary,children:[\"Order Total \\u20b9 \",t[0].amount]}),\"PAYMENT OPTIONS\",Object(h.jsxs)(\"ul\",{className:m.a.paymentOps,children:[Object(h.jsx)(\"li\",{onClick:function(){return T(\"cash\")},children:Object(h.jsxs)(\"div\",{className:m.a.selectOps,children:[\"Cash On Delivery\",\"cash\"===w&&Object(h.jsx)(\"span\",{className:m.a.check,children:Object(h.jsx)(p.a,{})})]})}),Object(h.jsxs)(\"li\",{onClick:function(){return T(\"online\")},children:[Object(h.jsxs)(\"div\",{className:m.a.selectOps,children:[\"Pay Now\",\"online\"===w&&Object(h.jsx)(\"span\",{className:m.a.check,children:Object(h.jsx)(p.a,{})})]}),Object(h.jsx)(\"div\",{className:m.a.subHead,children:\"Debit Card, Credit Card, Net Banking, UPI\"})]}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(\"button\",{onClick:function(e){if(\" \"!==w)if(\"cash\"===w){var n=new Date,r=String(n.getDate()).padStart(2,\"0\"),i=String(n.getMonth()+1).padStart(2,\"0\"),o=n.getFullYear();n=r+\"/\"+i+\"/\"+o;var l=g.slice();l.push({order_id:\"\",status:\"processing\",bill:t,products:a,payment:\"Cash\",address:s,date:n}),function(e,t){D.apply(this,arguments)}(c.email,l),_(j.a.remAddress()),x(\"/orders\",{replace:!0})}else!function(e){M.apply(this,arguments)}(t[0].amount)},className:m.a.continue,children:\"CONTINUE\"})})]}),f&&Object(h.jsx)(\"img\",{src:O.a,className:m.a.load,alt:\"Loading...\"})]})},f=a(129),y=a.n(f);t.default=function(e){return Object(n.useEffect)((function(){document.title=\"PAYMENT\",window.scrollTo(0,0)})),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{children:Object(h.jsx)(s.a,{value:\"pay\"})}),Object(h.jsx)(\"div\",{className:y.a.layout,children:Object(h.jsx)(b,{})})]})}},66:function(e,t,a){\"use strict\";t.a=a.p+\"static/media/sectionLoader.f418ba14.gif\"},78:function(e,t,a){\"use strict\";a(1);var n=a(79),s=a.n(n),c=a(0);t.a=function(e){return Object(c.jsx)(\"div\",{className:s.a.menu,children:Object(c.jsxs)(\"ul\",{className:s.a.menuList,children:[Object(c.jsx)(\"li\",{className:\"bag\"===e.value?s.a.active:\"\",children:\"B A G\"}),Object(c.jsx)(\"li\",{children:Object(c.jsx)(\"hr\",{className:s.a.line})}),Object(c.jsx)(\"li\",{className:\"add\"===e.value?s.a.active:\"\",children:\"A D D R E S S\"}),Object(c.jsx)(\"li\",{children:Object(c.jsx)(\"hr\",{className:s.a.line})}),Object(c.jsx)(\"li\",{className:\"pay\"===e.value?s.a.active:\"\",children:\"P A Y M E N T\"})]})})}},79:function(e,t,a){e.exports={active:\"checkoutMenu_active__3v-TC\",line:\"checkoutMenu_line__p4Zft\",menu:\"checkoutMenu_menu__1w-ke\",menuList:\"checkoutMenu_menuList__MWGB2\"}}}]);","name":"static/js/14.8f7b049d.chunk.js","map":{"version":3,"sources":["static/js/14.8f7b049d.chunk.js"],"names":["this","push","module","exports","__webpack_require__","check","continue","load","paymentCard","paymentOps","selectOps","subHead","summary","layout","__webpack_exports__","r","react","checkoutMenu","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","react_router","es","badgeCheckIcon","paymentOptions_module","paymentOptions_module_default","addressStore","sectionLoader","jsx_runtime","paymentOptions","props","bill","localStorage","getItem","JSON","parse","amount","products","address","Object","state","currAddress","userSub","login","userData","_useState","_useState2","loader","setLoader","navigate","dispatch","_useState3","_useState4","orders","setOrders","_useState5","_useState6","ops","setOps","_postOrders","a","mark","_callee2","email","cart","res","wrap","_context2","prev","next","fetch","method","headers","body","stringify","sent","json","stop","apply","arguments","_onlinePay","_callee3","data","rzp_key","rzpKeyData","options","_context3","ok","console","log","abrupt","key","currency","name","description","image","order_id","id","callback_url","prefill","contact","mobile","notes","theme","color","window","Razorpay","open","_getOrders","_callee","_context","_x","getOrders","className","children","onClick","event","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","currOrder","slice","status","payment","date","_x2","_x3","postOrders","remAddress","replace","_x4","onlinePay","src","alt","payment_module","payment_module_default","document","title","scrollTo","value","p","_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1__","_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","menu","menuList","active","line"],"mappings":"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"},"input":"(this[\"webpackJsonpreact_sample_1\"] = this[\"webpackJsonpreact_sample_1\"] || []).push([[14],{\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"check\":\"paymentOptions_check__3DMld\",\"continue\":\"paymentOptions_continue__1WUr6\",\"load\":\"paymentOptions_load__3phRN\",\"paymentCard\":\"paymentOptions_paymentCard__3SXDo\",\"paymentOps\":\"paymentOptions_paymentOps__jtpHD\",\"selectOps\":\"paymentOptions_selectOps__4HRtN\",\"subHead\":\"paymentOptions_subHead__2S7bd\",\"summary\":\"paymentOptions_summary__3YNQf\"};\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"payment_layout__37EJz\"};\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/pages/cart/checkoutMenu.js\nvar checkoutMenu = __webpack_require__(78);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(19);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 31 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/icons/badgeCheckIcon.js\nvar badgeCheckIcon = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./src/pages/payment/paymentOptions.module.css\nvar paymentOptions_module = __webpack_require__(128);\nvar paymentOptions_module_default = /*#__PURE__*/__webpack_require__.n(paymentOptions_module);\n\n// EXTERNAL MODULE: ./src/store/addressStore.js\nvar addressStore = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./src/image/sectionLoader.gif\nvar sectionLoader = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/pages/payment/paymentOptions.js\nfunction PaymentOptions(props){var bill=localStorage.getItem(\"billStore\")?JSON.parse(localStorage.getItem(\"billStore\")):[{amount:0}];var products=localStorage.getItem(\"products\")?JSON.parse(localStorage.getItem(\"products\")):[];var address=Object(es[\"c\" /* useSelector */])(function(state){return state.address.currAddress;});var userSub=Object(es[\"c\" /* useSelector */])(function(state){return state.login.userData;});var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loader=_useState2[0],setLoader=_useState2[1];var navigate=Object(react_router[\"g\" /* useNavigate */])();var dispatch=Object(es[\"b\" /* useDispatch */])();var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),orders=_useState4[0],setOrders=_useState4[1];var _useState5=Object(react[\"useState\"])(\" \"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),ops=_useState6[0],setOps=_useState6[1];Object(react[\"useEffect\"])(function(){//get orders data mongodb\nfunction getOrders(_x){return _getOrders.apply(this,arguments);}function _getOrders(){_getOrders=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(email){var res,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/user/history-get\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email})});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(res.ok&&data.orders)setOrders(data.orders);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getOrders.apply(this,arguments);}getOrders(userSub.email);},[userSub.email]);//post orders\nfunction postOrders(_x2,_x3){return _postOrders.apply(this,arguments);}function _postOrders(){_postOrders=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(email,orders){var cart,bill,res;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cart=[];bill=[];_context2.next=4;return fetch(\"/api/user/history-create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,cart:cart,bill:bill,orders:orders})});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _postOrders.apply(this,arguments);}function toOrders(){navigate(\"/orders\",{replace:true});}function onlinePay(_x4){return _onlinePay.apply(this,arguments);}function _onlinePay(){_onlinePay=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(amount){var res,data,rzp_key,rzpKeyData,options,razor;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoader(true);_context3.next=3;return fetch(\"/api/payment/checkout\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({amount:amount})});case 3:res=_context3.sent;_context3.next=6;return res.json();case 6:data=_context3.sent;if(!(res.ok&&data)){_context3.next=11;break;}console.log(data);_context3.next=12;break;case 11:return _context3.abrupt(\"return\");case 12:_context3.next=14;return fetch(\"/api/payment/key\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 14:rzp_key=_context3.sent;_context3.next=17;return rzp_key.json();case 17:rzpKeyData=_context3.sent;if(!(!rzp_key.ok||!rzpKeyData)){_context3.next=20;break;}return _context3.abrupt(\"return\");case 20:setLoader(false);options={key:rzpKeyData,amount:data.amount,currency:\"INR\",name:\"Friction\",description:\"Online Shopping site for Shoes in India\",image:\"/images/icon.png\",order_id:data.id,callback_url:\"/api/payment/verification\",prefill:{\"name\":userSub.name,\"email\":userSub.email,\"contact\":userSub.mobile},notes:{\"address\":\"Razorpay Corporate Office\"},theme:{\"color\":\"#446A46\"}};razor=new window.Razorpay(options);razor.open();case 24:case\"end\":return _context3.stop();}}},_callee3);}));return _onlinePay.apply(this,arguments);}function pay(event){if(ops===\" \")return;else if(ops===\"cash\"){var today=new Date();var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');var yyyy=today.getFullYear();today=dd+'/'+mm+'/'+yyyy;var currOrder=orders.slice();currOrder.push({order_id:\"\",status:\"processing\",bill:bill,products:products,payment:\"Cash\",address:address,date:today});postOrders(userSub.email,currOrder);dispatch(addressStore[\"a\" /* addressActions */].remAddress());toOrders();}else{onlinePay(bill[0].amount);}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:paymentOptions_module_default.a.paymentCard,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:paymentOptions_module_default.a.summary,children:[\"Order Total \\u20B9 \",bill[0].amount]}),\"PAYMENT OPTIONS\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:paymentOptions_module_default.a.paymentOps,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{onClick:function onClick(){return setOps(\"cash\");},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:paymentOptions_module_default.a.selectOps,children:[\"Cash On Delivery\",ops===\"cash\"&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:paymentOptions_module_default.a.check,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(badgeCheckIcon[\"a\" /* default */],{})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{onClick:function onClick(){return setOps(\"online\");},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:paymentOptions_module_default.a.selectOps,children:[\"Pay Now\",ops===\"online\"&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:paymentOptions_module_default.a.check,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(badgeCheckIcon[\"a\" /* default */],{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:paymentOptions_module_default.a.subHead,children:\"Debit Card, Credit Card, Net Banking, UPI\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:pay,className:paymentOptions_module_default.a.continue,children:\"CONTINUE\"})})]}),loader&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:sectionLoader[\"a\" /* default */],className:paymentOptions_module_default.a.load,alt:\"Loading...\"})]});}/* harmony default export */ var paymentOptions = (PaymentOptions);\n// EXTERNAL MODULE: ./src/pages/payment/payment.module.css\nvar payment_module = __webpack_require__(129);\nvar payment_module_default = /*#__PURE__*/__webpack_require__.n(payment_module);\n\n// CONCATENATED MODULE: ./src/pages/payment/payment.js\nfunction Payment(props){Object(react[\"useEffect\"])(function(){document.title='PAYMENT';window.scrollTo(0,0);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(checkoutMenu[\"a\" /* default */],{value:\"pay\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:payment_module_default.a.layout,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(paymentOptions,{})})]});}/* harmony default export */ var payment = __webpack_exports__[\"default\"] = (Payment);\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.p + \"static/media/sectionLoader.f418ba14.gif\");\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(79);\n/* harmony import */ var _checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nfunction CheckoutMenu(props){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.menu,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"ul\",{className:_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.menuList,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"li\",{className:props.value===\"bag\"?_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.active:'',children:\"B A G\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"hr\",{className:_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.line})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"li\",{className:props.value===\"add\"?_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.active:'',children:\"A D D R E S S\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"hr\",{className:_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.line})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"li\",{className:props.value===\"pay\"?_checkoutMenu_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.active:'',children:\"P A Y M E N T\"})]})});}/* harmony default export */ __webpack_exports__[\"a\"] = (CheckoutMenu);\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"checkoutMenu_active__3v-TC\",\"line\":\"checkoutMenu_line__p4Zft\",\"menu\":\"checkoutMenu_menu__1w-ke\",\"menuList\":\"checkoutMenu_menuList__MWGB2\"};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:\\Web Development\\React-Project-1\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\Web Development\\React-Project-1\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\Web Development\\React-Project-1\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Web Development\\React-Project-1\\src\\pages\\payment\\paymentOptions.module.css","D:\\Web Development\\React-Project-1\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\Web Development\\React-Project-1\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\Web Development\\React-Project-1\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Web Development\\React-Project-1\\src\\pages\\payment\\payment.module.css","D:/Web Development/React-Project-1/src/pages/payment/paymentOptions.js","D:/Web Development/React-Project-1/src/pages/payment/payment.js","D:\\Web Development\\React-Project-1\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Web Development\\React-Project-1\\src\\image\\sectionLoader.gif","D:/Web Development/React-Project-1/src/pages/cart/checkoutMenu.js","D:\\Web Development\\React-Project-1\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\Web Development\\React-Project-1\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\Web Development\\React-Project-1\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Web Development\\React-Project-1\\src\\pages\\cart\\checkoutMenu.module.css"],"names":["PaymentOptions","props","bill","localStorage","getItem","JSON","parse","amount","products","address","useSelector","state","currAddress","userSub","login","userData","useState","loader","setLoader","navigate","useNavigate","dispatch","useDispatch","orders","setOrders","ops","setOps","useEffect","getOrders","email","fetch","method","headers","body","stringify","res","json","data","ok","postOrders","cart","toOrders","replace","onlinePay","console","log","rzp_key","rzpKeyData","options","key","currency","name","description","image","order_id","id","callback_url","prefill","mobile","notes","theme","razor","window","Razorpay","open","pay","event","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","currOrder","slice","push","status","payment","date","addressActions","remAddress","classes","paymentCard","summary","paymentOps","selectOps","check","subHead","continue","preloader","load","Payment","document","title","scrollTo","layout","CheckoutMenu","menu","menuList","value","active","line"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"check\":\"paymentOptions_check__3DMld\",\"continue\":\"paymentOptions_continue__1WUr6\",\"load\":\"paymentOptions_load__3phRN\",\"paymentCard\":\"paymentOptions_paymentCard__3SXDo\",\"paymentOps\":\"paymentOptions_paymentOps__jtpHD\",\"selectOps\":\"paymentOptions_selectOps__4HRtN\",\"subHead\":\"paymentOptions_subHead__2S7bd\",\"summary\":\"paymentOptions_summary__3YNQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"payment_layout__37EJz\"};","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport BadgeCheckIcon from '../../icons/badgeCheckIcon';\r\nimport classes from './paymentOptions.module.css';\r\nimport { addressActions } from '../../store/addressStore';\r\nimport preloader from '../../image/sectionLoader.gif';\r\n\r\nfunction PaymentOptions(props){\r\n    const bill = localStorage.getItem(\"billStore\") ? JSON.parse(localStorage.getItem(\"billStore\")) : [{amount: 0}];\r\n    const products = localStorage.getItem(\"products\") ? JSON.parse(localStorage.getItem(\"products\")) : [];\r\n    const address = useSelector((state) => state.address.currAddress);\r\n    const userSub = useSelector((state) => state.login.userData);\r\n    const [loader, setLoader] = useState(false);\r\n    let navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const [ops, setOps] = useState(\" \");\r\n\r\n    useEffect(() =>{\r\n\r\n        //get orders data mongodb\r\n        async function getOrders(email){\r\n\r\n            const res = await fetch(\"/api/user/history-get\", {\r\n                method: \"POST\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({ email })\r\n            });\r\n        \r\n            const data = await res.json();\r\n                \r\n            if(res.ok && data.orders)\r\n                setOrders(data.orders);\r\n\r\n        }\r\n        getOrders(userSub.email);\r\n\r\n    }, [userSub.email]);\r\n\r\n    //post orders\r\n    async function postOrders(email, orders){\r\n\r\n        const cart = [];\r\n        const bill = [];\r\n        const res = await fetch(\"/api/user/history-create\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email, cart, bill, orders })\r\n        });\r\n    \r\n        await res.json();\r\n\r\n    }\r\n\r\n    function toOrders(){\r\n        navigate(`/orders`, { replace: true });\r\n    }\r\n\r\n    async function onlinePay(amount){\r\n\r\n        setLoader(true);\r\n\r\n        const res = await fetch(\"/api/payment/checkout\", {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ amount })\r\n        });\r\n    \r\n        const data = await res.json();\r\n            \r\n        if(res.ok && data)\r\n            console.log(data);\r\n        else\r\n            return;\r\n\r\n        const rzp_key = await fetch(\"/api/payment/key\", {\r\n            method: \"GET\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        });\r\n\r\n        const rzpKeyData = await rzp_key.json();\r\n\r\n        if(!rzp_key.ok || !rzpKeyData)\r\n            return;\r\n        setLoader(false);\r\n        const options = {\r\n            key: rzpKeyData, \r\n            amount: data.amount, \r\n            currency: \"INR\",\r\n            name: \"Friction\",\r\n            description: \"Online Shopping site for Shoes in India\",\r\n            image: \"/images/icon.png\",\r\n            order_id: data.id, \r\n            callback_url: \"/api/payment/verification\",\r\n            prefill: {\r\n                \"name\": userSub.name,\r\n                \"email\": userSub.email,\r\n                \"contact\": userSub.mobile\r\n            },\r\n            notes: {\r\n                \"address\": \"Razorpay Corporate Office\"\r\n            },\r\n            theme: {\r\n                \"color\": \"#446A46\"\r\n            }\r\n        };\r\n        var razor = new window.Razorpay(options);\r\n        razor.open();\r\n    }\r\n\r\n    function pay(event){\r\n\r\n        if(ops === \" \")\r\n            return;\r\n        else if(ops === \"cash\"){\r\n\r\n            var today = new Date();\r\n            var dd = String(today.getDate()).padStart(2, '0');\r\n            var mm = String(today.getMonth() + 1).padStart(2, '0');\r\n            var yyyy = today.getFullYear();\r\n\r\n            today = dd + '/' + mm + '/' + yyyy;\r\n\r\n            var currOrder = orders.slice();\r\n            currOrder.push({\r\n                order_id: \"\",\r\n                status: \"processing\",\r\n                bill: bill,\r\n                products: products,\r\n                payment: \"Cash\",\r\n                address: address,\r\n                date: today\r\n            });\r\n\r\n            postOrders(userSub.email, currOrder);\r\n\r\n            dispatch(addressActions.remAddress());\r\n\r\n            toOrders();\r\n\r\n        }\r\n        else{\r\n            onlinePay(bill[0].amount);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className={classes.paymentCard}>\r\n            <div className={classes.summary}>\r\n                Order Total &#8377; {bill[0].amount}\r\n            </div>\r\n            PAYMENT OPTIONS\r\n            <ul className={classes.paymentOps}>\r\n                <li onClick = {() => setOps(\"cash\")}>\r\n                    <div className={classes.selectOps}>Cash On Delivery\r\n                    {ops === \"cash\" && <span className={classes.check}><BadgeCheckIcon /></span>}</div>\r\n                </li>\r\n                <li onClick = {() => setOps(\"online\")}>  \r\n                    <div className={classes.selectOps}>Pay Now\r\n                    {ops === \"online\" && <span className={classes.check}><BadgeCheckIcon /></span>}</div>\r\n                    <div className={classes.subHead}>Debit Card, Credit Card, Net Banking, UPI</div>\r\n                </li>\r\n                <li><button onClick = {pay} className={classes.continue}>CONTINUE</button></li>\r\n                \r\n            </ul>\r\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaymentOptions;","import React, { useEffect } from 'react';\r\n\r\nimport CheckoutMenu from '../cart/checkoutMenu';\r\nimport PaymentOptions from './paymentOptions';\r\nimport classes from './payment.module.css';\r\n\r\n\r\nfunction Payment(props){\r\n\r\n    useEffect(() => {\r\n        document.title = 'PAYMENT';\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    return(\r\n        <div>\r\n            <div>\r\n                <CheckoutMenu value = \"pay\" />\r\n            </div>\r\n            <div className={classes.layout}>\r\n                <PaymentOptions />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Payment;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","import React from 'react';\r\nimport classes from './checkoutMenu.module.css';\r\n\r\nfunction CheckoutMenu(props){\r\n    return(\r\n        <div className={classes.menu}>\r\n            <ul className={classes.menuList}>\r\n                <li className={props.value === \"bag\" ? classes.active : ''}>B A G</li>\r\n                <li><hr className={classes.line} /></li>\r\n                <li className={props.value === \"add\" ? classes.active : ''}>A D D R E S S</li>\r\n                <li><hr className={classes.line} /></li>\r\n                <li className={props.value === \"pay\" ? classes.active : ''}>P A Y M E N T</li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CheckoutMenu;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"checkoutMenu_active__3v-TC\",\"line\":\"checkoutMenu_line__p4Zft\",\"menu\":\"checkoutMenu_menu__1w-ke\",\"menuList\":\"checkoutMenu_menuList__MWGB2\"};"]}}